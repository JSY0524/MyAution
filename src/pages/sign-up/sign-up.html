<ion-header>
  <ion-navbar>
    <ion-title>
      Sign Up
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <form [formGroup]="signUpForm">
    <ion-list>

      <ion-item>
        <ion-input formControlName="phone" type="tel" [(ngModel)]="phone" placeholder="Phone Number" name="phone"></ion-input>
      </ion-item>

      <ion-item *ngIf="signUpForm.controls.phone.hasError('required') && (signUpForm.controls.phone.touched || signUpForm.controls.phone.dirty)" > 
          <div style="color:crimson"> Phone number Should be filled </div>
      </ion-item>
      <ion-item *ngIf="signUpForm.controls.phone.hasError('pattern') && (signUpForm.controls.phone.touched || signUpForm.controls.phone.dirty)" > 
          <div style="color:crimson"> Phone number Should be in proper pattern </div>
      </ion-item>

      <ion-item>
        <ion-input formControlName="email" type="email" [(ngModel)]="email" placeholder="Email" name="email"></ion-input>
      </ion-item>

      <ion-item *ngIf="signUpForm.controls.email.hasError('required') && (signUpForm.controls.email.touched || signUpForm.controls.email.dirty)" > 
          <div style="color:crimson"> Email Should be filled </div>
      </ion-item>
      <ion-item *ngIf="signUpForm.controls.email.hasError('pattern') && (signUpForm.controls.email.touched || signUpForm.controls.email.dirty)" > 
          <div style="color:crimson"> Email Should in proper pattern </div>
      </ion-item>

      <ion-item>
        <ion-input formControlName="pwd" type="password" [(ngModel)]="password" placeholder="Password" name="password"></ion-input>
      </ion-item>

      <ion-item *ngIf="signUpForm.controls.pwd.hasError('required') && (signUpForm.controls.pwd.touched || signUpForm.controls.pwd.dirty)" > 
          <div style="color:crimson"> Password Should be filled </div>
      </ion-item>
      <ion-item *ngIf="signUpForm.controls.pwd.hasError('minlength') && (signUpForm.controls.pwd.touched || signUpForm.controls.pwd.dirty)" > 
          <div style="color:crimson"> Password Should be more than 8 </div>
      </ion-item>
      <ion-item *ngIf="signUpForm.controls.pwd.hasError('pattern') && (signUpForm.controls.pwd.touched || signUpForm.controls.pwd.dirty)" > 
          <div style="color:crimson"> Password Should contain one lowercase, one uppercase, one special character and one digit </div>
      </ion-item>

      <ion-item>
        <ion-input formControlName="confirmPwd" type="password" [(ngModel)]="passwordConfirm" placeholder="Confirm Password" name="passwordConfirm"></ion-input>
      </ion-item>

      <ion-item *ngIf="!(password==passwordConfirm)" > 
          <div style="color:crimson"> Password is not eqaual </div>
      </ion-item>

    </ion-list>

    <button ion-button color="stable" [disabled]="!signUpForm.valid" on-click="signUpUser(email, phone, password)" block>
      Sign up
    </button>
    
  </form>
</ion-content>